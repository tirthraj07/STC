    num_local_round = 10

    return FlowerClient(
        train_dmatrix,
        valid_dmatrix,
        num_train,
        num_val,
        num_local_round,
        params={
            'objective': 'binary:logistic',
            'eta': 0.05,  # Learning rate
            'max_depth': 6,
            'eval_metric': ['auc', 'logloss'],
            'nthread': 16,
            'num_parallel_tree': 1,
            'subsample': 1,
            'tree_method': 'hist'
        }
    )

INFO :      [ROUND 1]
INFO :      configure_fit: strategy sampled 3 clients (out of 3)
INFO :      aggregate_fit: received 3 results and 0 failures
INFO :      configure_evaluate: strategy sampled 3 clients (out of 3)
INFO :      aggregate_evaluate: received 3 results and 0 failures
Global round AUC: 0.7901
Global round LOSS: 0.5931666666666666
Client 1 AUC: 0.7837
Client 2 AUC: 0.7998
Client 3 AUC: 0.7868
INFO :
INFO :      [ROUND 2]
INFO :      configure_fit: strategy sampled 3 clients (out of 3)
INFO :      aggregate_fit: received 3 results and 0 failures
INFO :      configure_evaluate: strategy sampled 3 clients (out of 3)
INFO :      aggregate_evaluate: received 3 results and 0 failures
Global round AUC: 0.7907333333333333
Global round LOSS: 0.5827000000000001
Client 1 AUC: 0.8008
Client 2 AUC: 0.7841
Client 3 AUC: 0.7873
INFO :
INFO :      [ROUND 3]
INFO :      configure_fit: strategy sampled 3 clients (out of 3)
INFO :      aggregate_fit: received 3 results and 0 failures
INFO :      configure_evaluate: strategy sampled 3 clients (out of 3)
INFO :      aggregate_evaluate: received 3 results and 0 failures
Global round AUC: 0.7913
Global round LOSS: 0.5747666666666668
Client 1 AUC: 0.7883
Client 2 AUC: 0.8014
Client 3 AUC: 0.7842
INFO :
INFO :      [ROUND 4]
INFO :      configure_fit: strategy sampled 3 clients (out of 3)
INFO :      aggregate_fit: received 3 results and 0 failures
INFO :      configure_evaluate: strategy sampled 3 clients (out of 3)
INFO :      aggregate_evaluate: received 3 results and 0 failures
Global round AUC: 0.7913333333333333
Global round LOSS: 0.5688333333333334
Client 1 AUC: 0.7884
Client 2 AUC: 0.7844
Client 3 AUC: 0.8012
INFO :
INFO :      [ROUND 5]
INFO :      configure_fit: strategy sampled 3 clients (out of 3)
INFO :      aggregate_fit: received 3 results and 0 failures
INFO :      configure_evaluate: strategy sampled 3 clients (out of 3)
INFO :      aggregate_evaluate: received 3 results and 0 failures
Global round AUC: 0.7914666666666665
Global round LOSS: 0.5643333333333334
Client 1 AUC: 0.7847
Client 2 AUC: 0.8013
Client 3 AUC: 0.7884
INFO :
INFO :      [ROUND 6]
INFO :      configure_fit: strategy sampled 3 clients (out of 3)
INFO :      aggregate_fit: received 3 results and 0 failures
INFO :      configure_evaluate: strategy sampled 3 clients (out of 3)
INFO :      aggregate_evaluate: received 3 results and 0 failures
Global round AUC: 0.7917
Global round LOSS: 0.5609
Client 1 AUC: 0.7882
Client 2 AUC: 0.8018
Client 3 AUC: 0.7851
INFO :
INFO :      [ROUND 7]
INFO :      configure_fit: strategy sampled 3 clients (out of 3)
INFO :      aggregate_fit: received 3 results and 0 failures
INFO :      configure_evaluate: strategy sampled 3 clients (out of 3)
INFO :      aggregate_evaluate: received 3 results and 0 failures
Global round AUC: 0.792
Global round LOSS: 0.5583
Client 1 AUC: 0.7883
Client 2 AUC: 0.7854
Client 3 AUC: 0.8023
INFO :
INFO :      [ROUND 8]
INFO :      configure_fit: strategy sampled 3 clients (out of 3)
INFO :      aggregate_fit: received 3 results and 0 failures
INFO :      configure_evaluate: strategy sampled 3 clients (out of 3)
INFO :      aggregate_evaluate: received 3 results and 0 failures
Global round AUC: 0.7920999999999999
Global round LOSS: 0.5562999999999999
Client 1 AUC: 0.7886
Client 2 AUC: 0.8026
Client 3 AUC: 0.7851
INFO :
INFO :      [ROUND 9]
INFO :      configure_fit: strategy sampled 3 clients (out of 3)
INFO :      aggregate_fit: received 3 results and 0 failures
INFO :      configure_evaluate: strategy sampled 3 clients (out of 3)
INFO :      aggregate_evaluate: received 3 results and 0 failures
Global round AUC: 0.7922666666666667
Global round LOSS: 0.5548666666666666
Client 1 AUC: 0.7849
Client 2 AUC: 0.8032
Client 3 AUC: 0.7887
INFO :
INFO :      [ROUND 10]
INFO :      configure_fit: strategy sampled 3 clients (out of 3)
INFO :      aggregate_fit: received 3 results and 0 failures
INFO :      configure_evaluate: strategy sampled 3 clients (out of 3)
INFO :      aggregate_evaluate: received 3 results and 0 failures
Global round AUC: 0.7922999999999999
Global round LOSS: 0.5537666666666667
Client 1 AUC: 0.7846
Client 2 AUC: 0.789
Client 3 AUC: 0.8033


Cyclic training


In addition to bagging aggregation, we offer a cyclic training scheme, which performs FL in a client-by-client fashion. Instead of aggregating multiple clients, there is only one single client participating in the training per round in the cyclic training scenario. The trained local XGBoost trees will be passed to the next client as an initialised model for next roundâ€™s boosting.

strategy = FedXgbCyclic(
    fraction_fit=1.0,
    fraction_evaluate=1.0,
    evaluate_metrics_aggregation_fn=evaluate_metrics_aggregation,
    on_evaluate_config_fn=config_func,
    on_fit_config_fn=config_func,
    initial_parameters=parameters,
    min_fit_clients=3,      
    min_evaluate_clients=3,  
    min_available_clients=3

)



INFO :      [INIT]
INFO :      Using initial global parameters provided by strategy
INFO :      Evaluating initial global parameters
INFO :
INFO :      [ROUND 1]
INFO :      configure_fit: strategy sampled 1 clients (out of 3)
INFO :      aggregate_fit: received 1 results and 0 failures
INFO :      configure_evaluate: strategy sampled 1 clients (out of 3)
INFO :      aggregate_evaluate: received 1 results and 0 failures
Global round AUC: 0.7985
Global round LOSS: 0.604
Client 1 AUC: 0.7985
INFO :
INFO :      [ROUND 2]
INFO :      configure_fit: strategy sampled 1 clients (out of 3)
INFO :      aggregate_fit: received 1 results and 0 failures
INFO :      configure_evaluate: strategy sampled 1 clients (out of 3)
INFO :      aggregate_evaluate: received 1 results and 0 failures
Global round AUC: 0.7809
Global round LOSS: 0.6328
Client 1 AUC: 0.7809
INFO :
INFO :      [ROUND 3]
INFO :      configure_fit: strategy sampled 1 clients (out of 3)
INFO :      aggregate_fit: received 1 results and 0 failures
INFO :      configure_evaluate: strategy sampled 1 clients (out of 3)
INFO :      aggregate_evaluate: received 1 results and 0 failures
Global round AUC: 0.7952
Global round LOSS: 0.6206
Client 1 AUC: 0.7952
INFO :
INFO :      [ROUND 4]
INFO :      configure_fit: strategy sampled 1 clients (out of 3)
INFO :      aggregate_fit: received 1 results and 0 failures
INFO :      configure_evaluate: strategy sampled 1 clients (out of 3)
INFO :      aggregate_evaluate: received 1 results and 0 failures
Global round AUC: 0.7914
Global round LOSS: 0.624
Client 1 AUC: 0.7914
INFO :
INFO :      [ROUND 5]
INFO :      configure_fit: strategy sampled 1 clients (out of 3)
INFO :      aggregate_fit: received 1 results and 0 failures
INFO :      configure_evaluate: strategy sampled 1 clients (out of 3)
INFO :      aggregate_evaluate: received 1 results and 0 failures
Global round AUC: 0.7941
Global round LOSS: 0.6224
Client 1 AUC: 0.7941
INFO :
INFO :      [ROUND 6]
INFO :      configure_fit: strategy sampled 1 clients (out of 3)
INFO :      aggregate_fit: received 1 results and 0 failures
INFO :      configure_evaluate: strategy sampled 1 clients (out of 3)
INFO :      aggregate_evaluate: received 1 results and 0 failures
Global round AUC: 0.7822
Global round LOSS: 0.6265
Client 1 AUC: 0.7822
INFO :
INFO :      [ROUND 7]
INFO :      configure_fit: strategy sampled 1 clients (out of 3)
INFO :      aggregate_fit: received 1 results and 0 failures
INFO :      configure_evaluate: strategy sampled 1 clients (out of 3)
INFO :      aggregate_evaluate: received 1 results and 0 failures
Global round AUC: 0.7862
Global round LOSS: 0.6252
Client 1 AUC: 0.7862
INFO :
INFO :      [ROUND 8]
INFO :      configure_fit: strategy sampled 1 clients (out of 3)
INFO :      aggregate_fit: received 1 results and 0 failures
INFO :      configure_evaluate: strategy sampled 1 clients (out of 3)
INFO :      aggregate_evaluate: received 1 results and 0 failures
Global round AUC: 0.7956
Global round LOSS: 0.6225
Client 1 AUC: 0.7956
INFO :
INFO :      [ROUND 9]
INFO :      configure_fit: strategy sampled 1 clients (out of 3)
INFO :      aggregate_fit: received 1 results and 0 failures
INFO :      configure_evaluate: strategy sampled 1 clients (out of 3)
INFO :      aggregate_evaluate: received 1 results and 0 failures
Global round AUC: 0.7863000000000001
Global round LOSS: 0.6253999999999998
Client 1 AUC: 0.7863
INFO :
INFO :      [ROUND 10]
INFO :      configure_fit: strategy sampled 1 clients (out of 3)
INFO :      aggregate_fit: received 1 results and 0 failures
INFO :      configure_evaluate: strategy sampled 1 clients (out of 3)
INFO :      aggregate_evaluate: received 1 results and 0 failures
Global round AUC: 0.7942
Global round LOSS: 0.6231000000000001
Client 1 AUC: 0.7942
INFO :
INFO :      [SUMMARY]
INFO :      Run finished 10 round(s) in 7.65s
INFO :          History (loss, distributed):
INFO :                  round 1: 0
INFO :                  round 2: 0
INFO :                  round 3: 0
INFO :                  round 4: 0
INFO :                  round 5: 0
INFO :                  round 6: 0
INFO :                  round 7: 0
INFO :                  round 8: 0
INFO :                  round 9: 0
INFO :                  round 10: 0
INFO :          History (metrics, distributed, evaluate):
INFO :          {'AUC': [(1, 0.7985),
INFO :                   (2, 0.7809),
INFO :                   (3, 0.7952),
INFO :                   (4, 0.7914),
INFO :                   (5, 0.7941),
INFO :                   (6, 0.7822),
INFO :                   (7, 0.7862),
INFO :                   (8, 0.7956),
INFO :                   (9, 0.7863000000000001),
INFO :                   (10, 0.7942)],
INFO :           'LOSS': [(1, 0.604),
INFO :                    (2, 0.6328),
INFO :                    (3, 0.6206),
INFO :                    (4, 0.624),
INFO :                    (5, 0.6224),
INFO :                    (6, 0.6265),
INFO :                    (7, 0.6252),
INFO :                    (8, 0.6225),
INFO :                    (9, 0.6253999999999998),
INFO :                    (10, 0.6231000000000001)]}